{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/dep.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/parser-html.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/observer/watcher.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/initGlobalAPI/index.js","../../src/index.js"],"sourcesContent":["// 判断传参是否为对象\nexport function isObject(data) {\n    return typeof data === 'object' && data !== null\n}\n\n// Object.defineProperty的特定简写 不可枚举\nexport function def(data, key, value) {\n    Object.defineProperty(data, key, {\n        enumerable: false,\n        configurable: false,\n        value\n    })\n}\n\nexport function proxy(vm, source, key) { // 数据访问代理\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[source][key]\n        },\n        set(newVal) {\n            vm[source][key] = newVal\n        }\n    })\n}\n\nconst LIFECYCLE_HOOKS = [ // 生命周期名字\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestroy',\n    'destroyed'\n]\n\nlet strats = {}\n\nLIFECYCLE_HOOKS.forEach((hook) => {\n    strats[hook] = mergeHook\n})\n\nfunction mergeHook(oldVal, newVal) {\n    if (newVal) {\n        if (oldVal) {\n            return oldVal.concat(newVal)\n        } else {\n            return [newVal]\n        }\n    }\n}\n\n\n\n// 默认的合并规则 特殊属性有其他合并方式\nexport function mergeOptions(oldOpt, newOpt) {\n    const options = {}\n    for (let key in oldOpt) {\n        mergeField(key)\n    }\n    for (let key in newOpt) {\n        if (!oldOpt.hasOwnProperty(key)) {\n            mergeField(key)\n        }\n    }\n    function mergeField(key) {\n        if (strats[key]) {\n            return options[key] = strats[key](oldOpt[key], newOpt[key]) // ?\n        }\n        if (typeof oldOpt[key] === 'object' && typeof newOpt[key] === 'object') {\n            options[key] = {\n                ...oldOpt[key],\n                ...newOpt[key]\n            }\n        } else if (newOpt[key] === null || newOpt[key] === undefined) {\n            options[key] = oldOpt[key]\n        } else {\n            options[key] = newOpt[key]\n        }\n    }\n    return options\n}","// 重新数组的常用API\n// push shfit unshift pop reverse sort splice 会导致数组本身产生变化的API都要处理\n\n\nlet oldArrayPrototye = Array.prototype\n\nexport let arrayMethods = Object.create(oldArrayPrototye)\n\nconst methods = [\n    'push',\n    'shift',\n    'unshift',\n    'pop',\n    'reverse',\n    'sort',\n    'splice'\n]\n\nmethods.forEach(method => {\n    arrayMethods[method] = function (...args) {\n        const result = oldArrayPrototye[method].apply(this, args) // this指向value？？？\n        let ob = this.__ob__\n        // 不管删除类的API，只看添加或者修改数组的API\n        let inserted // 用户插入的元素\n        switch (method) {\n            case 'push':\n            case 'splice':\n                inserted = args\n                break;\n            case 'splice': // 删除 修改 新增 arr.splice(0,1, {name: 1})\n                inserted = args.slice(2)\n                break;\n            default:\n                break;\n        }\n        if (inserted) ob.observerArray(inserted) // 观察新插入的对象\n        return result\n    }\n})\n\n","let id = 0\nclass Dep { // depend和notify方法用到了观察者模式\n    constructor() {\n        this.id = id++\n        this.subs = []\n    }\n    depend() {\n        // 添加watcher和dep的互相记忆关系\n        Dep.target.addDep(this)\n    }\n    notify() {\n        this.subs.forEach((watcher) => {\n            watcher.update()\n        })\n    }\n    addSub(watcher) { //  dep 关联 watcher\n        this.subs.push(watcher)\n    }\n}\n\nlet stack = [] // 是用来存放dep.target 保留和移除watcher\n\nexport function pushTarget(watcher) {\n    Dep.target = watcher\n    stack.push(Dep.target)\n}\n\nexport function popTarget() {\n    stack.pop()\n    Dep.target = stack[stack.length - 1]\n}\n\nexport default Dep","import { isObject, def } from \"../util/index.js\"\nimport { arrayMethods } from './array.js'\nimport Dep from './dep'\n\n\n// 要承载比较多的方法\n// 当值是数组的时候，索引也会作为key去监听 get 0() get 1()这样是无意义的操作，也会拖慢性能\nclass Observer {\n    constructor(value) {\n        // 把new Observer(data)存放在每一个被监控的对象里 方便复写的数组API能调用观察者的方法\n        // value.__ob__ = this 这是错误的写法，因为定义的__ob__也是一个对象，会造成无限生成__ob__,并无限观察它。解决方法是\n        // Object.defineProperty 不可枚举 不可复写 已封装到def里\n        def(value, '__ob__', this)\n        if (Array.isArray(value)) {\n            // 直接操作数组API的方式，大多数都不是通过操作索引\n            // vm._data.testArr.push({ c: 1 }) 这种操作在没处理的结果是，新增的对象没添加观察，所以要改写数组的常用API，比如push、unshift、shift\n            // 如果数组里面有对象，才会对数组观察，否则是不必要浪费性能的\n            Object.setPrototypeOf(value, arrayMethods)\n            this.observerArray(value)\n        } else {\n            this.walk(value)\n        }\n    }\n    //为什么不在class里继续定义defineReactive 而是新开了一个functio  @question\n    //defineReactive(data) {}\n    walk(data) { // 递归 Object.defineProperty 添加get set\n        let keys = Object.keys(data)\n        keys.forEach(key => {\n            defineReactive(data, key, data[key])\n        })\n    }\n    observerArray(value) { // 观察数组\n        value.forEach(item => {\n            observe(item)\n        })\n    }\n\n\n}\n\nfunction defineReactive(data, key, value) { // 定义响应式数据 让对象的数据添加getter和setter 并在期间设置了观察者\n    let dep = new Dep()\n    observe(value)\n    Object.defineProperty(data, key, {\n        configurable: true,\n        enumerable: true,\n        get() {\n            // 这里可以设置watcher ，每个属性都有对应自己的watcher\n            if (Dep.target) { // 如果当前有watcher dep可能对应多个watcher？\n                dep.depend()\n            }\n            console.log('取值 get');\n            return value\n        },\n        set(newVal) {\n            if (newVal === value) { return }\n            // 如果用户手动设置更新了data的对象，那么也要给新对象上的数据进行数据劫持\n            observe(newVal)\n            value = newVal\n            console.log('设值 set');\n            dep.notify() // 通知依赖的watcher进行更新\n        }\n    })\n}\n\nexport function observe(data) {\n    // 如果不是对象的话，就可以直接退出了\n    if (!isObject(data)) {\n        return\n    }\n    return new Observer(data)\n}\n\n\n\n","import { observe } from './observer/index.js'\nimport { proxy } from './util/index.js'\nexport function initState(vm) {\n    const opts = vm.$options\n\n    // vue文件的 script层 编写顺序 prop data computed watch 生命周期 method 针对传入实例的对应属性做不同的处理\n    if (opts.props) {\n        initProps(vm)\n    }\n    if (opts.methods) {\n        initMethod(vm)\n    }\n    if (opts.data) {\n        initData(vm)\n    }\n    if (opts.computed) {\n        initComputed(vm)\n    }\n    if (opts.watch) {\n        initWatch(vm)\n    }\n}\n\nfunction initProps() { }\nfunction initMethod() { }\n\n\nfunction initData(vm) {\n    // 数据初始化工作\n    let data = vm.$options.data\n    data = vm._data = typeof (data) === 'function' ? data.call(vm) : data\n\n    // MVVM 数据劫持 数据驱动视图更新 vue2.0是Object.defineProperty getter setter vue3 proxy\n    // vm.data.*** => vm.*** 取数据方便\n\n    for (let key in data) {\n        proxy(vm, '_data', key)\n    }\n\n    observe(data)\n\n}\nfunction initComputed() { }\nfunction initWatch() { }","// 模板字符串：\n// <div id=\"app\">\n//  <p>{{name}}</p>\n// </div>\n\n// 此文件的作用是将template的html字符串转成AST结构\n\n// 需要的正则\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`        // abc-aaa\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`  // <aa:bb>\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 标签开头的正则 <sss 捕获的内容是标签名\nconst startTagClose = /^\\s*(\\/?)>/                   // 匹配标签结束的 >  <div>   \nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/   // 匹配属性 id=\"idName\"\n\nlet root = null // ast语法树的树根\nlet currentParent // 标识当前父亲\nlet stack = [] // 标签字符串数组\nconst ELEMENT_TYPE = 1 // \nconst TEXT_TYPE = 3 // \n\nfunction createASTElement(tagName, attrs) {\n    return {\n        tag: tagName,\n        type: ELEMENT_TYPE,\n        children: [],\n        attrs,\n        parent: null\n    }\n}\n\nfunction start(tagName, attrs) { // 记录开始标签 ，并生成AST树\n    let element = createASTElement(tagName, attrs)\n    if (!root) {\n        root = element\n    }\n    currentParent = element // 当前元素标记成父AST树\n    stack.push(element)\n}\n\nfunction chars(text) { // 文本是 text\n    text = text.replace(/\\s/g, '') // 替换所有的空格为空\n    if (text) {\n        currentParent.children.push({\n            text,\n            type: TEXT_TYPE\n        })\n    }\n}\n\nfunction end(tagName) { // 标签闭合 tagName\n    //console.log(\n    let element = stack.pop() // 拿到栈中的最后一个元素\n    currentParent = stack[stack.length - 1] // 取栈中的最后一个元素 的父级元素\n    if (currentParent) {\n        element.parent = currentParent\n        currentParent.children.push(element)\n    }\n}\n\n\n//advance(***[0].length) 是regExp.match匹配返回第一个参数 \nexport function parserHTML(html) { // 解析HTMLDOM文本 => DOM树（包含属性、子节点、父节点）\n    function parsestartTag() { // 解析开始标签\n        let start = html.match(startTagOpen) // 匹配开始标签头\n        if (start) {\n            advance(start[0].length) // start[0]: <div  将标签从模板字符串中删除\n            const match = {\n                tagName: start[1], // 'div'\n                attrs: []\n            }\n            let end, attr;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) { // 如果剩下的匹配不到结束标签，则视为有属性，处理属性值的返回\n                advance(attr[0].length) // 将开始标签的属性从模板字符串中删除\n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5]\n                })\n            }\n            if (end) {\n                advance(end[0].length) // 删除开始标签的>\n                return match // 这才是真正return到外面的结果\n            }\n        }\n    }\n    function advance(n) { // 前进n位 处理html解析的不断更新字符串\n        html = html.substring(n)\n    }\n\n    while (html) { // while 只要循环条件为真，一直执行的特点\n        let textEnd = html.indexOf('<')\n        if (textEnd === 0) { // 是标签的左边 包含开始标签 和结束标签\n            let startTagMatch = parsestartTag() // startTagMatch 包含tagName attrs\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs)\n                continue // 开始标签匹配完毕后  继续下一次 匹配\n            }\n            let endTagMatch = html.match(endTag)\n            if (endTagMatch) {\n                advance(endTagMatch[0].length)\n                end(endTagMatch.tagName)\n                continue\n            }\n        }\n        let text\n        if (textEnd >= 0) { // 包含空白节点的情况\n            text = html.substring(0, textEnd)\n        }\n        if (text) {\n            chars(text)\n            advance(text.length)\n        }\n    }\n\n    return root\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g         // {{ddd}} \n\nexport function generate(el) { // el 是AST语法树\n    let children = genChildren(el)\n    let code = `_c(\"${el.tag}\",\n        ${el.attrs.length ? genProps(el.attrs) : undefined // 设置标签属性时 有属性取属性否则取undefined\n        }\n        ${children ? `,${children}` : ''\n        })\n    `\n    return code\n}\n\nfunction genChildren(el) { // 生成孩子 el.chilren 是可以使用的\n    let children = el.children\n    if (children && children.length) {\n        return `${children.map(c => gen(c)).join(',')}`\n    } else {\n        return false\n    }\n}\n\nfunction gen(node) { // node type 1 3 区别是元素节点还是文本节点 递归思想\n    if (node.type === 1) {\n        return generate(node)\n    } else {\n        let text = node.text\n        // 到这一步仍需处理text 可能存在{{}}语法\n        // a {{name}} b {{age}} c \n        // 转化成\n        // _v(\"a\" + _S(name) + \"b\" + _s(age) + \"c\")\n        // 正则存在lastIndex的问题，需重置为0 ？？？\n        // 正则 exec 0: \"{{name}}\" 1: \"name\" index匹配文本的第一个字符的位置\n        let tokens = [] // 待拼接的字符串数组\n        let match, index\n        let lastIndex = defaultTagRE.lastIndex = 0\n\n        while (match = defaultTagRE.exec(text)) {\n            index = match.index\n            if (index > lastIndex) {\n                tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n            }\n            tokens.push(`_s(${match[1].trim()})`)\n            lastIndex = index + match[0].length\n        }\n        if (lastIndex < text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        return `_v(${tokens.join('+')})`\n    }\n}\n\nfunction genProps(attrs) { // 生成属性  attrs:[{name: id, value: '**'}] => 多个{id: **}\n    let str = ''\n    attrs.forEach(item => {\n        if (item.name === 'style') {\n            let obj = {}\n            item.value.split(';').forEach((styleItem) => {\n                if (styleItem) {\n                    let splitItem = styleItem.split(':')\n                    obj[splitItem[0]] = splitItem[1]\n                }\n            })\n            str += `style: ${JSON.stringify(obj)},`\n        } else {\n            str += `${item.name}:${JSON.stringify(item.value)},`\n        }\n    })\n    //return `{${str.substring(0, str.length - 1)}}`\n    return `{${str.slice(0, -1)}}`\n}\n","// AST 虚拟dom\nimport { parserHTML } from \"./parser-html\"\nimport { generate } from \"./generate\"\n\nexport function compileToFunction(template) {\n    // (1) 解析html字符串 => AST语法树\n    let root = parserHTML(template)\n    // AST语法树 => render函数\n    // 原理：模版引擎？？？\n\n    // html字符串： <div id=\"app\"><p>hello {{name}}</p> test</div>\n    // render函数： _c(\"div\", {id: app}, _c(\"p\", undefined, _v('hello' + _s(name))), _v('hello'))\n\n    let code = generate(root)\n    // 所有的模板引擎的实现 底层原理  new Function () {}  with\n\n    let renderFn = new Function(`with(this){ return ${code}}`)\n\n    // renderFn返回的是虚拟dom\n    return renderFn\n}","import { pushTarget, popTarget } from './dep'\n\nlet id = 0\nclass Watcher {\n    constructor(vm, exprOrFn, callback, options) { // 所有属性都放在实例上\n        this.vm = vm\n        this.callback = callback\n        this.options = options\n        this.id = id++          // 保持watcher的唯一性\n        this.getter = exprOrFn\n        this.depsId = new Set()\n        this.deps = [] // 存放唯一的dep\n        this.get()\n    }\n    get() {\n        // 不直接调用 exprOrFn 的原因是，调用的基础上，还有额外的操作 存储和移除watcher\n        pushTarget(this) // water存起来， Dep.target\n        this.getter() // 执行 exprOrFn\n        popTarget() // 移除全局watcher Dep.target\n    }\n    update() { // watcher的update方法，在dep的观察者更新时候会调用\n        this.get()\n    }\n    addDep(dep) { // watcher关联dep dep里不能放重复的watcher watcher里不能发重复的dep\n        let id = dep.id // set结构存储它 set结构可以去重\n        if (!this.depsId.has(id)) {\n            this.depsId.add(id)\n            this.deps.push(dep)\n            dep.addSub(this) // dep 关联 watcher\n        }\n    }\n}\n\nexport default Watcher","export function patch(oldVnode, vnode) {\n    // 第一次oldVnode 是标签\n    console.log(oldVnode, vnode);\n\n    // 1 判断是更新还是渲染\n    const isRealElement = oldVnode.nodeType\n    if (isRealElement) {\n        const oldElm = oldVnode\n        const parentElm = oldElm.parentNode // 获取父级节点是为了提前存好插入的位置\n        let el = createElm(vnode)\n        parentElm.insertBefore(el, oldElm.nextSibling)\n        parentElm.removeChild(oldElm)\n        return el\n    }\n}\n\nfunction createElm(vnode) {\n    //return document.createElement('div')\n    let {\n        tag,\n        children,\n        key,\n        data,\n        text\n    } = vnode // 是标签或创建标签\n\n    // 标签\n    if (typeof tag === 'string') {\n        vnode.el = document.createElement(tag)\n        updateProperties(vnode)\n        children.forEach(child => { // 递归创建儿子节点\n            return vnode.el.appendChild(createElm(child))\n        });\n    } else { // 文本    \n        vnode.el = document.createTextNode(text)\n    }\n    return vnode.el\n}\n\nfunction updateProperties(vnode) { // 更新属性\n    let newProps = vnode.data || {}\n    let el = vnode.el\n    for (let key in newProps) {\n        if (key === 'style') {\n            for (let styleName in newProps.style) {\n                el.style[styleName] = newProps.style[styleName]\n            }\n        } else if (key === 'class') {\n            el.className = newProps.class\n        } else {\n            el.setAttribute(key, newProps[key])\n        }\n    }\n}","// 生命周期\n// render函数生成的dom替换el\n\n\nimport Watcher from \"./observer/watcher\";\nimport { patch } from './vdom/patch'\n\n\n// 定义vm._update\nexport function lifecycleMixin(Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this\n        console.log(vnode);\n        vm.$el = patch(vm.$el, vnode) // 虚拟vnode创建真实dom 替换已有的$el\n    }\n}\n\nexport function mountComponent(vm, el) {\n    const options = vm.$options\n    vm.$el = el // $el用来存放真实dom\n\n    callHook(vm, 'beforeMount')\n\n    // 渲染页面 渲染或更新都会调用\n    let updateComponent = () => {\n        // Watcher就是用来渲染的 ??? 还有绑定监听\n        // vm._render 通过解析的render方法，渲染出虚拟dom _c _v _s\n        // vm._update 通过虚拟dom 创建真实的dom\n\n        // 渲染页面\n        vm._update(vm._render()) // 执行顺序是先里后外\n\n    }\n    // 渲染watcher 每个组件都有一个watcher vm.$watch(() => {} )   空函数是watch后的回调处理\n    new Watcher(vm, updateComponent, () => { }, true)\n    callHook(vm, 'mounted')\n}\n\nexport function callHook(vm, hook) {\n    const handlers = vm.$options[hook]\n    if (handlers) {\n        for (let i = 0; i < handlers.length; i++) {\n            handlers[i].call(vm)\n        }\n    }\n}","import { initState } from \"./state\"\nimport { compileToFunction } from './compiler/index'\nimport { mountComponent, callHook } from \"./lifecycle\"\nimport { mergeOptions } from \"./util/index\"\n\nexport function initMixin(Vue) {\n    // vue 原型添加一个init方法\n    Vue.prototype._init = function (options) {\n        // 数据劫持\n        const vm = this\n\n        // 子类 继承 用户传递和全局进行合并\n        vm.$options = mergeOptions(vm.constructor.options, options) // vue中的this.$options等于 用户传入的属性\n\n        callHook(vm, 'beforeCreate')\n\n        initState(vm)         // 初始化状态\n\n        callHook(vm, 'created')\n\n        // 如果有el的参数，就渲染到节点上 template render\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el)\n        }\n\n\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this\n        const options = vm.$options\n        el = document.querySelector(el)\n\n        // render > template > el 渲染优先级\n        if (!options.render) {\n            let template = options.template\n            if (!template && el) {\n                template = el.outerHTML\n            }\n\n            // template => render函数\n            const render = compileToFunction(template)\n            options.render = render\n        }\n\n        // 拿到render函数后 可以渲染当前组件\n        mountComponent(vm, el)\n\n    }\n}\n","export function createElement(tag, data = {}, ...children) { // ...children是函数的rest参数写法，es6. 用于获取函数的多余参数\n    let key = data.key\n    if (key) { delete data.key }\n    return vnode(tag, data, key, children, undefined)\n}\n\nexport function createTextNode(text) {\n    //console.log(text);\n    return vnode(undefined, undefined, undefined, undefined, text)\n}\n\n// 虚拟节点 就是_c _v 实现用对象来描述dom的操作\nfunction vnode(tag, data, key, children, text) {\n\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text\n    }\n}\n\n// vnode 通用结构  需转换成真实的html\n//const vnode = {\n//    tag: 'div',\n//    key: undefined,\n//    data: {},\n//    children: [],\n//    text: undefined\n//}","import { createElement, createTextNode } from \"./vdom/create-element\"\n\n\nexport function renderMixin(Vue) {\n    // _c 创建元素的虚拟节点\n    // _v 创建文本的虚拟节点\n    // _s JSON.stringify\n\n    Vue.prototype._c = function () {\n        return createElement(...arguments) // tag, data, children\n    }\n\n    Vue.prototype._v = function (text) {\n        return createTextNode(text)\n    }\n\n    Vue.prototype._s = function (val) {\n        return val == null ? '' : (typeof val === 'object' ? JSON.stringify(val) : val)\n    }\n\n    Vue.prototype._render = function () { // render函数调用，返回的是vnode\n        const vm = this\n        const { render } = vm.$options\n        return render.call(vm) // 绑定this 配合with的this参数\n    }\n}","import { mergeOptions } from \"../util/index\"\nexport function initGlobalApi(Vue) {\n    Vue.options = {}\n    Vue.mixin = function (mixin) {\n        this.options = mergeOptions(this.options, mixin)\n    }\n    Vue.mixin({\n        a: 1,\n        b: 2,\n        beforeCreate: function () {\n            console.log('fn1')\n        }\n    })\n    Vue.mixin({\n        b: 3,\n        c: 4,\n        beforeCreate: function () {\n            console.log('fn2')\n        }\n    })\n    console.log(Vue.options);\n}","import { initMixin } from './init'\nimport { renderMixin } from './render'\nimport { lifecycleMixin } from './lifecycle'\nimport { initGlobalApi } from './initGlobalAPI/index'\nfunction Vue(options) {\n    // vue的初始化操作\n    this._init(options)\n}\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\ninitGlobalApi(Vue)\n\nexport default Vue"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newVal","LIFECYCLE_HOOKS","strats","forEach","hook","mergeHook","oldVal","concat","mergeOptions","oldOpt","newOpt","options","mergeField","hasOwnProperty","undefined","oldArrayPrototye","Array","prototype","arrayMethods","create","methods","method","args","result","apply","ob","__ob__","inserted","slice","observerArray","id","Dep","subs","target","addDep","watcher","update","push","stack","pushTarget","popTarget","pop","length","Observer","isArray","setPrototypeOf","walk","keys","defineReactive","item","observe","dep","depend","console","log","notify","initState","opts","$options","props","initData","computed","watch","_data","call","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","attribute","root","currentParent","ELEMENT_TYPE","TEXT_TYPE","createASTElement","tagName","attrs","tag","type","children","parent","start","element","chars","text","replace","end","parserHTML","html","parsestartTag","match","advance","attr","name","n","substring","textEnd","indexOf","startTagMatch","endTagMatch","defaultTagRE","generate","el","genChildren","code","genProps","map","c","gen","join","node","tokens","index","lastIndex","exec","JSON","stringify","trim","str","obj","split","styleItem","splitItem","compileToFunction","template","renderFn","Function","Watcher","exprOrFn","callback","getter","depsId","Set","deps","has","add","addSub","patch","oldVnode","vnode","isRealElement","nodeType","oldElm","parentElm","parentNode","createElm","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","child","appendChild","createTextNode","newProps","styleName","style","className","setAttribute","lifecycleMixin","Vue","_update","$el","mountComponent","callHook","updateComponent","_render","handlers","i","initMixin","_init","constructor","$mount","querySelector","render","outerHTML","renderMixin","_c","arguments","_v","_s","val","initGlobalApi","mixin","a","b","beforeCreate"],"mappings":"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"}